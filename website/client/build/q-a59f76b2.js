import{C as h,D as x,n as P,E as k,F as I,G as w,H as y,J as b,_ as E,K as T,L as V,M as p,N as R,O as v,P as K,Q as L,T as M,U as A,V as O,c as D,W,B as j,X as F,Y as N,R as U}from"./q-6451e2b4.js";import{_ as g,U as Y,W as q,G as B,K as G,n as H,c as C,C as _,k as J,g as c,b as m,m as d,R as X,a as l,N as Z}from"./q-824532ad.js";const $=()=>{var s,r;const[n,o,e]=g();if(o.apiKey||h.error("No API key provided to `RenderContent` component. This can cause issues. Please provide an API key using the `apiKey` prop."),x()){if(P()&&(e.forceReRenderCount=e.forceReRenderCount+1,k(),I({...o.locale?{locale:o.locale}:{},...o.includeRefs?{includeRefs:o.includeRefs}:{},...o.enrich?{enrich:o.enrich}:{}}),Object.values(e.builderContextSignal.registeredComponents).forEach(t=>{var i;const a=w(t);(i=window.parent)==null||i.postMessage(a,"*")}),window.addEventListener("message",y.bind(null,o,e,n)),window.addEventListener("builder:component:stateChangeListenerActivated",b.bind(null,o,e,n))),e.builderContextSignal.content){const t=(s=e.builderContextSignal.content)==null?void 0:s.testVariationId,a=(r=e.builderContextSignal.content)==null?void 0:r.id;E({type:"impression",canTrack:e.canTrackToUse,contentId:a,apiKey:o.apiKey,variationId:t!==a?t:void 0})}if(T()){const t=new URL(location.href).searchParams,a=t.get("builder.preview"),i=t.get(`builder.preview.${a}`),f=t.get("apiKey")||t.get("builder.space");a===o.model&&f===o.apiKey&&(!o.content||i===o.content.id)&&V({model:o.model,apiKey:o.apiKey,apiVersion:o.apiVersion}).then(S=>{S&&p(o,e,n,S)})}R(o,e,n),v(o,e,n),b(o,e)}},z=({track:n})=>{const[o,e,s]=g();n(()=>e.content),e.content&&p(e,s,o,e.content)},Q=({track:n})=>{const[o,e,s]=g();n(()=>{var r,t;return(t=(r=s.builderContextSignal.content)==null?void 0:r.data)==null?void 0:t.jsCode}),n(()=>s.builderContextSignal.rootState),R(e,s,o)},ee=({track:n})=>{const[o,e,s]=g();n(()=>{var r,t;return(t=(r=s.builderContextSignal.content)==null?void 0:r.data)==null?void 0:t.httpRequests}),v(e,s,o)},te=({track:n})=>{const[o,e,s]=g();n(()=>s.builderContextSignal.rootState),b(e,s)},ne=n=>{const[o,e,s]=g();return K(e,s,o,n)},oe=n=>{var s,r;Y();const o=q(),e=B({builderContextSignal:{content:L({content:n.content,data:n.data}),localState:void 0,rootState:M({content:n.content,data:n.data,locale:n.locale}),rootSetState:void 0,context:n.context||{},apiKey:n.apiKey,apiVersion:n.apiVersion,registeredComponents:[...A(),...O,...n.customComponents||[]].reduce((t,{component:a,...i})=>({...t,[i.name]:{component:a,...i}}),{}),inheritedStyles:{}},canTrackToUse:D(n.canTrack)?n.canTrack:!0,clicked:!1,forceReRenderCount:0,httpReqsData:{},overrideContent:null,scriptStr:W({variationId:(s=n.content)==null?void 0:s.testVariationId,contentId:(r=n.content)==null?void 0:r.id}),update:0},{deep:!0});return G(j,e.builderContextSignal),H(d(()=>l(()=>Promise.resolve().then(()=>u),void 0),"s_n50dgqWW6pY",[o,n,e])),C(d(()=>l(()=>Promise.resolve().then(()=>u),void 0),"s_Kulmlf9pM08",[o,n,e])),C(d(()=>l(()=>Promise.resolve().then(()=>u),void 0),"s_X59YMGOetns",[o,n,e])),C(d(()=>l(()=>Promise.resolve().then(()=>u),void 0),"s_u3gn3Pj2b2s",[o,n,e])),C(d(()=>l(()=>Promise.resolve().then(()=>u),void 0),"s_xLCHvjhJYRM",[o,n,e])),_(X,{children:e.builderContextSignal.content?J("div",{ref:o,...n.showContent?{}:{hidden:!0,"aria-hidden":!0},children:[n.isSsrAbTest?_(F,{get scriptStr(){return e.scriptStr},[m]:{scriptStr:c(t=>t.scriptStr,[e],"p0.scriptStr")}},3,"03_0"):null,_(N,{get contentId(){var t;return(t=e.builderContextSignal.content)==null?void 0:t.id},get cssCode(){var t,a;return(a=(t=e.builderContextSignal.content)==null?void 0:t.data)==null?void 0:a.cssCode},get customFonts(){var t,a;return(a=(t=e.builderContextSignal.content)==null?void 0:t.data)==null?void 0:a.customFonts},[m]:{contentId:c(t=>{var a;return(a=t.builderContextSignal.content)==null?void 0:a.id},[e],"p0.builderContextSignal.content?.id"),cssCode:c(t=>{var a,i;return(i=(a=t.builderContextSignal.content)==null?void 0:a.data)==null?void 0:i.cssCode},[e],"p0.builderContextSignal.content?.data?.cssCode"),customFonts:c(t=>{var a,i;return(i=(a=t.builderContextSignal.content)==null?void 0:a.data)==null?void 0:i.customFonts},[e],"p0.builderContextSignal.content?.data?.customFonts")}},3,"03_1"),_(U,{get blocks(){var t,a;return(a=(t=e.builderContextSignal.content)==null?void 0:t.data)==null?void 0:a.blocks},[m]:{blocks:c(t=>{var a,i;return(i=(a=t.builderContextSignal.content)==null?void 0:a.data)==null?void 0:i.blocks},[e],"p0.builderContextSignal.content?.data?.blocks")}},3,e.forceReRenderCount)],onClick$:d(()=>l(()=>Promise.resolve().then(()=>u),void 0),"s_wLg5o3ZkpC0",[o,n,e])},{"builder-content-id":c(t=>{var a;return(a=t.builderContextSignal.content)==null?void 0:a.id},[e],"p0.builderContextSignal.content?.id"),"builder-model":c(t=>t.model,[n],"p0.model"),class:c(t=>t.classNameProp,[n],"p0.classNameProp")},0,"03_2"):null},1,"03_3")},u=Object.freeze(Object.defineProperty({__proto__:null,_hW:Z,s_Kulmlf9pM08:z,s_X59YMGOetns:Q,s_hEAI0ahViXM:oe,s_n50dgqWW6pY:$,s_u3gn3Pj2b2s:ee,s_wLg5o3ZkpC0:ne,s_xLCHvjhJYRM:te},Symbol.toStringTag,{value:"Module"}));export{Z as _hW,z as s_Kulmlf9pM08,Q as s_X59YMGOetns,oe as s_hEAI0ahViXM,$ as s_n50dgqWW6pY,ee as s_u3gn3Pj2b2s,ne as s_wLg5o3ZkpC0,te as s_xLCHvjhJYRM};
